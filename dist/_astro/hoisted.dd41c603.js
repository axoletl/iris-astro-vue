function Q(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function K(n,r,e){return r&&Q(n.prototype,r),e&&Q(n,e),n}function L(){return(L=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}).apply(this,arguments)}function U(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}function ie(n){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(n)}function X(n,r){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(n,r)}function se(n,r,e){return(se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(t,o,i){var s=[null];s.push.apply(s,o);var c=new(Function.bind.apply(t,s));return i&&X(c,i.prototype),c}).apply(null,arguments)}function ae(n){var r=typeof Map=="function"?new Map:void 0;return(ae=function(e){if(e===null||Function.toString.call(e).indexOf("[native code]")===-1)return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return se(e,arguments,ie(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),X(t,e)})(n)}function _(n,r){try{var e=n()}catch(t){return r(t)}return e&&e.then?e.then(void 0,r):e}typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var S,ye="2.9.7",we=function(){};(function(n){n[n.off=0]="off",n[n.error=1]="error",n[n.warning=2]="warning",n[n.info=3]="info",n[n.debug=4]="debug"})(S||(S={}));var J=S.off,O=function(){function n(e){this.t=e}n.getLevel=function(){return J},n.setLevel=function(e){return J=S[e]};var r=n.prototype;return r.error=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];this.i(console.error,S.error,t)},r.warn=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];this.i(console.warn,S.warning,t)},r.info=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];this.i(console.info,S.info,t)},r.debug=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];this.i(console.log,S.debug,t)},r.i=function(e,t,o){t<=n.getLevel()&&e.apply(console,["["+this.t+"] "].concat(o))},n}(),R=G,be=ce,Pe=Y,Ee=he,xe=fe,ue="/",ke=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function Y(n,r){for(var e,t=[],o=0,i=0,s="",c=r&&r.delimiter||ue,h=r&&r.whitelist||void 0,a=!1;(e=ke.exec(n))!==null;){var u=e[0],p=e[1],f=e.index;if(s+=n.slice(i,f),i=f+u.length,p)s+=p[1],a=!0;else{var l="",d=e[2],v=e[3],w=e[4],g=e[5];if(!a&&s.length){var P=s.length-1,E=s[P];(!h||h.indexOf(E)>-1)&&(l=E,s=s.slice(0,P))}s&&(t.push(s),s="",a=!1);var y=v||w,m=l||c;t.push({name:d||o++,prefix:l,delimiter:m,optional:g==="?"||g==="*",repeat:g==="+"||g==="*",pattern:y?Ae(y):"[^"+k(m===c?m:m+c)+"]+?"})}}return(s||i<n.length)&&t.push(s+n.substr(i)),t}function ce(n,r){return function(e,t){var o=n.exec(e);if(!o)return!1;for(var i=o[0],s=o.index,c={},h=t&&t.decode||decodeURIComponent,a=1;a<o.length;a++)if(o[a]!==void 0){var u=r[a-1];c[u.name]=u.repeat?o[a].split(u.delimiter).map(function(p){return h(p,u)}):h(o[a],u)}return{path:i,index:s,params:c}}}function he(n,r){for(var e=new Array(n.length),t=0;t<n.length;t++)typeof n[t]=="object"&&(e[t]=new RegExp("^(?:"+n[t].pattern+")$",V(r)));return function(o,i){for(var s="",c=i&&i.encode||encodeURIComponent,h=!i||i.validate!==!1,a=0;a<n.length;a++){var u=n[a];if(typeof u!="string"){var p,f=o?o[u.name]:void 0;if(Array.isArray(f)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but got array');if(f.length===0){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var l=0;l<f.length;l++){if(p=c(f[l],u),h&&!e[a].test(p))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');s+=(l===0?u.prefix:u.delimiter)+p}}else if(typeof f!="string"&&typeof f!="number"&&typeof f!="boolean"){if(!u.optional)throw new TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"))}else{if(p=c(String(f),u),h&&!e[a].test(p))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+p+'"');s+=u.prefix+p}}else s+=u}return s}}function k(n){return n.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Ae(n){return n.replace(/([=!:$/()])/g,"\\$1")}function V(n){return n&&n.sensitive?"":"i"}function fe(n,r,e){for(var t=(e=e||{}).strict,o=e.start!==!1,i=e.end!==!1,s=e.delimiter||ue,c=[].concat(e.endsWith||[]).map(k).concat("$").join("|"),h=o?"^":"",a=0;a<n.length;a++){var u=n[a];if(typeof u=="string")h+=k(u);else{var p=u.repeat?"(?:"+u.pattern+")(?:"+k(u.delimiter)+"(?:"+u.pattern+"))*":u.pattern;r&&r.push(u),h+=u.optional?u.prefix?"(?:"+k(u.prefix)+"("+p+"))?":"("+p+")?":k(u.prefix)+"("+p+")"}}if(i)t||(h+="(?:"+k(s)+")?"),h+=c==="$"?"$":"(?="+c+")";else{var f=n[n.length-1],l=typeof f=="string"?f[f.length-1]===s:f===void 0;t||(h+="(?:"+k(s)+"(?="+c+"))?"),l||(h+="(?="+k(s)+"|"+c+")")}return new RegExp(h,V(e))}function G(n,r,e){return n instanceof RegExp?function(t,o){if(!o)return t;var i=t.source.match(/\((?!\?)/g);if(i)for(var s=0;s<i.length;s++)o.push({name:s,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(n,r):Array.isArray(n)?function(t,o,i){for(var s=[],c=0;c<t.length;c++)s.push(G(t[c],o,i).source);return new RegExp("(?:"+s.join("|")+")",V(i))}(n,r,e):function(t,o,i){return fe(Y(t,i),o,i)}(n,r,e)}R.match=function(n,r){var e=[];return ce(G(n,e,r),e)},R.regexpToFunction=be,R.parse=Pe,R.compile=function(n,r){return he(Y(n,r),r)},R.tokensToFunction=Ee,R.tokensToRegExp=xe;var b={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},T=new(function(){function n(){this.o=b,this.u=new DOMParser}var r=n.prototype;return r.toString=function(e){return e.outerHTML},r.toDocument=function(e){return this.u.parseFromString(e,"text/html")},r.toElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t},r.getHtml=function(e){return e===void 0&&(e=document),this.toString(e.documentElement)},r.getWrapper=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},r.getContainer=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},r.removeContainer=function(e){document.body.contains(e)&&e.parentNode.removeChild(e)},r.addContainer=function(e,t){var o=this.getContainer();o?this.s(e,o):t.appendChild(e)},r.getNamespace=function(e){e===void 0&&(e=document);var t=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return t?t.getAttribute(this.o.prefix+"-"+this.o.namespace):null},r.getHref=function(e){if(e.tagName&&e.tagName.toLowerCase()==="a"){if(typeof e.href=="string")return e.href;var t=e.getAttribute("href")||e.getAttribute("xlink:href");if(t)return this.resolveUrl(t.baseVal||t)}return null},r.resolveUrl=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=t.length;if(i===0)throw new Error("resolveUrl requires at least one argument; got none.");var s=document.createElement("base");if(s.href=arguments[0],i===1)return s.href;var c=document.getElementsByTagName("head")[0];c.insertBefore(s,c.firstChild);for(var h,a=document.createElement("a"),u=1;u<i;u++)a.href=arguments[u],s.href=h=a.href;return c.removeChild(s),h},r.s=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},n}()),le=new(function(){function n(){this.h=[],this.v=-1}var r=n.prototype;return r.init=function(e,t){this.l="barba";var o={ns:t,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(o),this.v=0;var i={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(i,"",e)},r.change=function(e,t,o){if(o&&o.state){var i=o.state,s=i.index;t=this.m(this.v-s),this.replace(i.states),this.v=s}else this.add(e,t);return t},r.add=function(e,t){var o=this.size,i=this.p(t),s={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(s),this.v=o;var c={from:this.l,index:o,states:[].concat(this.h)};switch(i){case"push":window.history&&window.history.pushState(c,"",e);break;case"replace":window.history&&window.history.replaceState(c,"",e)}},r.update=function(e,t){var o=t||this.v,i=L({},this.get(o),{},e);this.set(o,i)},r.remove=function(e){e?this.h.splice(e,1):this.h.pop(),this.v--},r.clear=function(){this.h=[],this.v=-1},r.replace=function(e){this.h=e},r.get=function(e){return this.h[e]},r.set=function(e,t){return this.h[e]=t},r.p=function(e){var t="push",o=e,i=b.prefix+"-"+b.history;return o.hasAttribute&&o.hasAttribute(i)&&(t=o.getAttribute(i)),t},r.m=function(e){return Math.abs(e)>1?e>0?"forward":"back":e===0?"popstate":e>0?"back":"forward"},K(n,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),n}()),C=function(n,r){try{var e=function(){if(!r.next.html)return Promise.resolve(n).then(function(t){var o=r.next;if(t){var i=T.toElement(t);o.namespace=T.getNamespace(i),o.container=T.getContainer(i),o.html=t,le.update({ns:o.namespace});var s=T.toDocument(t);document.title=s.title}})}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},pe=R,Se={__proto__:null,update:C,nextTick:function(){return new Promise(function(n){window.requestAnimationFrame(n)})},pathToRegexp:pe},de=function(){return window.location.origin},M=function(n){return n===void 0&&(n=window.location.href),B(n).port},B=function(n){var r,e=n.match(/:\d+/);if(e===null)/^http/.test(n)&&(r=80),/^https/.test(n)&&(r=443);else{var t=e[0].substring(1);r=parseInt(t,10)}var o,i=n.replace(de(),""),s={},c=i.indexOf("#");c>=0&&(o=i.slice(c+1),i=i.slice(0,c));var h=i.indexOf("?");return h>=0&&(s=ve(i.slice(h+1)),i=i.slice(0,h)),{hash:o,path:i,port:r,query:s}},ve=function(n){return n.split("&").reduce(function(r,e){var t=e.split("=");return r[t[0]]=t[1],r},{})},W=function(n){return n===void 0&&(n=window.location.href),n.replace(/(\/#.*|\/|#.*)$/,"")},je={__proto__:null,getHref:function(){return window.location.href},getOrigin:de,getPort:M,getPath:function(n){return n===void 0&&(n=window.location.href),B(n).path},parse:B,parseQuery:ve,clean:W};function Re(n,r,e){return r===void 0&&(r=2e3),new Promise(function(t,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){if(i.status===200)t(i.responseText);else if(i.status){var s={status:i.status,statusText:i.statusText};e(n,s),o(s)}}},i.ontimeout=function(){var s=new Error("Timeout error ["+r+"]");e(n,s),o(s)},i.onerror=function(){var s=new Error("Fetch error");e(n,s),o(s)},i.open("GET",n),i.timeout=r,i.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),i.setRequestHeader("x-barba","yes"),i.send()})}var Le=function(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"};function H(n,r){return r===void 0&&(r={}),function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=!1,s=new Promise(function(c,h){r.async=function(){return i=!0,function(u,p){u?h(u):c(p)}};var a=n.apply(r,t);i||(Le(a)?a.then(c,h):c(a))});return s}}var A=new(function(n){function r(){var t;return(t=n.call(this)||this).logger=new O("@barba/core"),t.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],t.registered=new Map,t.init(),t}U(r,n);var e=r.prototype;return e.init=function(){var t=this;this.registered.clear(),this.all.forEach(function(o){t[o]||(t[o]=function(i,s){t.registered.has(o)||t.registered.set(o,new Set),t.registered.get(o).add({ctx:s||{},fn:i})})})},e.do=function(t){for(var o=this,i=arguments.length,s=new Array(i>1?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];if(this.registered.has(t)){var h=Promise.resolve();return this.registered.get(t).forEach(function(a){h=h.then(function(){return H(a.fn,a.ctx).apply(void 0,s)})}),h.catch(function(a){o.logger.debug("Hook error ["+t+"]"),o.logger.error(a)})}return Promise.resolve()},e.clear=function(){var t=this;this.all.forEach(function(o){delete t[o]}),this.init()},e.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var t=[];this.registered.forEach(function(o,i){return t.push(i)}),this.logger.info("Registered hooks: "+t.join(","))},r}(we)),me=function(){function n(r){if(this.P=[],typeof r=="boolean")this.g=r;else{var e=Array.isArray(r)?r:[r];this.P=e.map(function(t){return pe(t)})}}return n.prototype.checkHref=function(r){if(typeof this.g=="boolean")return this.g;var e=B(r).path;return this.P.some(function(t){return t.exec(e)!==null})},n}(),Oe=function(n){function r(t){var o;return(o=n.call(this,t)||this).k=new Map,o}U(r,n);var e=r.prototype;return e.set=function(t,o,i){return this.k.set(t,{action:i,request:o}),{action:i,request:o}},e.get=function(t){return this.k.get(t)},e.getRequest=function(t){return this.k.get(t).request},e.getAction=function(t){return this.k.get(t).action},e.has=function(t){return!this.checkHref(t)&&this.k.has(t)},e.delete=function(t){return this.k.delete(t)},e.update=function(t,o){var i=L({},this.k.get(t),{},o);return this.k.set(t,i),i},r}(me),Te=function(){return!window.history.pushState},qe=function(n){return!n.el||!n.href},_e=function(n){var r=n.event;return r.which>1||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey},He=function(n){var r=n.el;return r.hasAttribute("target")&&r.target==="_blank"},Ie=function(n){var r=n.el;return r.protocol!==void 0&&window.location.protocol!==r.protocol||r.hostname!==void 0&&window.location.hostname!==r.hostname},Me=function(n){var r=n.el;return r.port!==void 0&&M()!==M(r.href)},Ne=function(n){var r=n.el;return r.getAttribute&&typeof r.getAttribute("download")=="string"},Ce=function(n){return n.el.hasAttribute(b.prefix+"-"+b.prevent)},Be=function(n){return!!n.el.closest("["+b.prefix+"-"+b.prevent+'="all"]')},De=function(n){var r=n.href;return W(r)===W()&&M(r)===M()},Ue=function(n){function r(t){var o;return(o=n.call(this,t)||this).suite=[],o.tests=new Map,o.init(),o}U(r,n);var e=r.prototype;return e.init=function(){this.add("pushState",Te),this.add("exists",qe),this.add("newTab",_e),this.add("blank",He),this.add("corsDomain",Ie),this.add("corsPort",Me),this.add("download",Ne),this.add("preventSelf",Ce),this.add("preventAll",Be),this.add("sameUrl",De,!1)},e.add=function(t,o,i){i===void 0&&(i=!0),this.tests.set(t,o),i&&this.suite.push(t)},e.run=function(t,o,i,s){return this.tests.get(t)({el:o,event:i,href:s})},e.checkLink=function(t,o,i){var s=this;return this.suite.some(function(c){return s.run(c,t,o,i)})},r}(me),F=function(n){function r(e,t){var o;t===void 0&&(t="Barba error");for(var i=arguments.length,s=new Array(i>2?i-2:0),c=2;c<i;c++)s[c-2]=arguments[c];return(o=n.call.apply(n,[this].concat(s))||this).error=e,o.label=t,Error.captureStackTrace&&Error.captureStackTrace(function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(o),r),o.name="BarbaError",o}return U(r,n),r}(ae(Error)),$e=function(){function n(e){e===void 0&&(e=[]),this.logger=new O("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}var r=n.prototype;return r.add=function(e,t){switch(e){case"rule":this.A.splice(t.position||0,0,t.value);break;case"transition":default:this.all.push(t)}this.update()},r.resolve=function(e,t){var o=this;t===void 0&&(t={});var i=t.once?this.once:this.page;i=i.filter(t.self?function(f){return f.name&&f.name==="self"}:function(f){return!f.name||f.name!=="self"});var s=new Map,c=i.find(function(f){var l=!0,d={};return!(!t.self||f.name!=="self")||(o.A.reverse().forEach(function(v){l&&(l=o.R(f,v,e,d),f.from&&f.to&&(l=o.R(f,v,e,d,"from")&&o.R(f,v,e,d,"to")),f.from&&!f.to&&(l=o.R(f,v,e,d,"from")),!f.from&&f.to&&(l=o.R(f,v,e,d,"to")))}),s.set(f,d),l)}),h=s.get(c),a=[];if(a.push(t.once?"once":"page"),t.self&&a.push("self"),h){var u,p=[c];Object.keys(h).length>0&&p.push(h),(u=this.logger).info.apply(u,["Transition found ["+a.join(",")+"]"].concat(p))}else this.logger.info("No transition found ["+a.join(",")+"]");return c},r.update=function(){var e=this;this.all=this.all.map(function(t){return e.T(t)}).sort(function(t,o){return t.priority-o.priority}).reverse().map(function(t){return delete t.priority,t}),this.page=this.all.filter(function(t){return t.leave!==void 0||t.enter!==void 0}),this.once=this.all.filter(function(t){return t.once!==void 0})},r.R=function(e,t,o,i,s){var c=!0,h=!1,a=e,u=t.name,p=u,f=u,l=u,d=s?a[s]:a,v=s==="to"?o.next:o.current;if(s?d&&d[u]:d[u]){switch(t.type){case"strings":default:var w=Array.isArray(d[p])?d[p]:[d[p]];v[p]&&w.indexOf(v[p])!==-1&&(h=!0),w.indexOf(v[p])===-1&&(c=!1);break;case"object":var g=Array.isArray(d[f])?d[f]:[d[f]];v[f]?(v[f].name&&g.indexOf(v[f].name)!==-1&&(h=!0),g.indexOf(v[f].name)===-1&&(c=!1)):c=!1;break;case"function":d[l](o)?h=!0:c=!1}h&&(s?(i[s]=i[s]||{},i[s][u]=a[s][u]):i[u]=a[u])}return c},r.O=function(e,t,o){var i=0;return(e[t]||e.from&&e.from[t]||e.to&&e.to[t])&&(i+=Math.pow(10,o),e.from&&e.from[t]&&(i+=1),e.to&&e.to[t]&&(i+=2)),i},r.T=function(e){var t=this;e.priority=0;var o=0;return this.A.forEach(function(i,s){o+=t.O(e,i.name,s+1)}),e.priority=o,e},n}(),Fe=function(){function n(e){e===void 0&&(e=[]),this.logger=new O("@barba/core"),this.S=!1,this.store=new $e(e)}var r=n.prototype;return r.get=function(e,t){return this.store.resolve(e,t)},r.doOnce=function(e){var t=e.data,o=e.transition;try{var i=function(){s.S=!1},s=this,c=o||{};s.S=!0;var h=_(function(){return Promise.resolve(s.j("beforeOnce",t,c)).then(function(){return Promise.resolve(s.once(t,c)).then(function(){return Promise.resolve(s.j("afterOnce",t,c)).then(function(){})})})},function(a){s.S=!1,s.logger.debug("Transition error [before/after/once]"),s.logger.error(a)});return Promise.resolve(h&&h.then?h.then(i):i())}catch(a){return Promise.reject(a)}},r.doPage=function(e){var t=e.data,o=e.transition,i=e.page,s=e.wrapper;try{var c=function(l){if(h)return l;a.S=!1},h=!1,a=this,u=o||{},p=u.sync===!0||!1;a.S=!0;var f=_(function(){function l(){return Promise.resolve(a.j("before",t,u)).then(function(){var v=!1;function w(P){return v?P:Promise.resolve(a.remove(t)).then(function(){return Promise.resolve(a.j("after",t,u)).then(function(){})})}var g=function(){if(p)return _(function(){return Promise.resolve(a.add(t,s)).then(function(){return Promise.resolve(a.j("beforeLeave",t,u)).then(function(){return Promise.resolve(a.j("beforeEnter",t,u)).then(function(){return Promise.resolve(Promise.all([a.leave(t,u),a.enter(t,u)])).then(function(){return Promise.resolve(a.j("afterLeave",t,u)).then(function(){return Promise.resolve(a.j("afterEnter",t,u)).then(function(){})})})})})})},function(m){if(a.M(m))throw new F(m,"Transition error [sync]")});var P=function(m){return v?m:_(function(){var x=function(){if(E!==!1)return Promise.resolve(a.add(t,s)).then(function(){return Promise.resolve(a.j("beforeEnter",t,u)).then(function(){return Promise.resolve(a.enter(t,u,E)).then(function(){return Promise.resolve(a.j("afterEnter",t,u)).then(function(){})})})})}();if(x&&x.then)return x.then(function(){})},function(x){if(a.M(x))throw new F(x,"Transition error [before/after/enter]")})},E=!1,y=_(function(){return Promise.resolve(a.j("beforeLeave",t,u)).then(function(){return Promise.resolve(Promise.all([a.leave(t,u),C(i,t)]).then(function(m){return m[0]})).then(function(m){return E=m,Promise.resolve(a.j("afterLeave",t,u)).then(function(){})})})},function(m){if(a.M(m))throw new F(m,"Transition error [before/after/leave]")});return y&&y.then?y.then(P):P(y)}();return g&&g.then?g.then(w):w(g)})}var d=function(){if(p)return Promise.resolve(C(i,t)).then(function(){})}();return d&&d.then?d.then(l):l()},function(l){throw a.S=!1,l.name&&l.name==="BarbaError"?(a.logger.debug(l.label),a.logger.error(l.error),l):(a.logger.debug("Transition error [page]"),a.logger.error(l),l)});return Promise.resolve(f&&f.then?f.then(c):c(f))}catch(l){return Promise.reject(l)}},r.once=function(e,t){try{return Promise.resolve(A.do("once",e,t)).then(function(){return t.once?H(t.once,t)(e):Promise.resolve()})}catch(o){return Promise.reject(o)}},r.leave=function(e,t){try{return Promise.resolve(A.do("leave",e,t)).then(function(){return t.leave?H(t.leave,t)(e):Promise.resolve()})}catch(o){return Promise.reject(o)}},r.enter=function(e,t,o){try{return Promise.resolve(A.do("enter",e,t)).then(function(){return t.enter?H(t.enter,t)(e,o):Promise.resolve()})}catch(i){return Promise.reject(i)}},r.add=function(e,t){try{return T.addContainer(e.next.container,t),A.do("nextAdded",e),Promise.resolve()}catch(o){return Promise.reject(o)}},r.remove=function(e){try{return T.removeContainer(e.current.container),A.do("currentRemoved",e),Promise.resolve()}catch(t){return Promise.reject(t)}},r.M=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},r.j=function(e,t,o){try{return Promise.resolve(A.do(e,t,o)).then(function(){return o[e]?H(o[e],o)(t):Promise.resolve()})}catch(i){return Promise.reject(i)}},K(n,[{key:"isRunning",get:function(){return this.S},set:function(e){this.S=e}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(e){return e.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(e){return e.to&&!e.to.route||e.sync})}}]),n}(),We=function(){function n(r){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,r.length!==0&&(r.forEach(function(t){e.byNamespace.set(t.namespace,t)}),this.names.forEach(function(t){A[t](e.L(t))}))}return n.prototype.L=function(r){var e=this;return function(t){var o=r.match(/enter/i)?t.next:t.current,i=e.byNamespace.get(o.namespace);return i&&i[r]?H(i[r],i)(t):Promise.resolve()}},n}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(n){var r=this;do{if(r.matches(n))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null});var ze={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},N=new(function(){function n(){this.version=ye,this.schemaPage=ze,this.Logger=O,this.logger=new O("@barba/core"),this.plugins=[],this.hooks=A,this.dom=T,this.helpers=Se,this.history=le,this.request=Re,this.url=je}var r=n.prototype;return r.use=function(e,t){var o=this.plugins;o.indexOf(e)>-1?this.logger.warn("Plugin ["+e.name+"] already installed."):typeof e.install=="function"?(e.install(this,t),o.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},r.init=function(e){var t=e===void 0?{}:e,o=t.transitions,i=o===void 0?[]:o,s=t.views,c=s===void 0?[]:s,h=t.schema,a=h===void 0?b:h,u=t.requestError,p=t.timeout,f=p===void 0?2e3:p,l=t.cacheIgnore,d=l!==void 0&&l,v=t.prefetchIgnore,w=v!==void 0&&v,g=t.preventRunning,P=g!==void 0&&g,E=t.prevent,y=E===void 0?null:E,m=t.debug,x=t.logLevel;if(O.setLevel((m!==void 0&&m)===!0?"debug":x===void 0?"off":x),this.logger.info(this.version),Object.keys(a).forEach(function(I){b[I]&&(b[I]=a[I])}),this.$=u,this.timeout=f,this.cacheIgnore=d,this.prefetchIgnore=w,this.preventRunning=P,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var $=this.data.current;if(!$.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new Oe(d),this.prevent=new Ue(w),this.transitions=new Fe(i),this.views=new We(c),y!==null){if(typeof y!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",y)}this.history.init($.url.href,$.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach(function(I){return I.init()});var q=this.data;q.trigger="barba",q.next=q.current,q.current=L({},this.schemaPage),this.hooks.do("ready",q),this.once(q),this.q()},r.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},r.force=function(e){window.location.assign(e)},r.go=function(e,t,o){var i;if(t===void 0&&(t="barba"),this.transitions.isRunning)this.force(e);else if(!(i=t==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return t=this.history.change(e,t,o),o&&(o.stopPropagation(),o.preventDefault()),this.page(e,t,i)},r.once=function(e){try{var t=this;return Promise.resolve(t.hooks.do("beforeEnter",e)).then(function(){function o(){return Promise.resolve(t.hooks.do("afterEnter",e)).then(function(){})}var i=function(){if(t.transitions.hasOnce){var s=t.transitions.get(e,{once:!0});return Promise.resolve(t.transitions.doOnce({transition:s,data:e})).then(function(){})}}();return i&&i.then?i.then(o):o()})}catch(o){return Promise.reject(o)}},r.page=function(e,t,o){try{var i=function(){var a=s.data;return Promise.resolve(s.hooks.do("page",a)).then(function(){var u=_(function(){var p=s.transitions.get(a,{once:!1,self:o});return Promise.resolve(s.transitions.doPage({data:a,page:c,transition:p,wrapper:s._})).then(function(){s.q()})},function(){O.getLevel()===0&&s.force(a.current.url.href)});if(u&&u.then)return u.then(function(){})})},s=this;s.data.next.url=L({href:e},s.url.parse(e)),s.data.trigger=t;var c=s.cache.has(e)?s.cache.update(e,{action:"click"}).request:s.cache.set(e,s.request(e,s.timeout,s.onRequestError.bind(s,t)),"click").request,h=function(){if(s.transitions.shouldWait)return Promise.resolve(C(c,s.data)).then(function(){})}();return Promise.resolve(h&&h.then?h.then(i):i())}catch(a){return Promise.reject(a)}},r.onRequestError=function(e){this.transitions.isRunning=!1;for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];var s=o[0],c=o[1],h=this.cache.getAction(s);return this.cache.delete(s),!(this.$&&this.$(e,h,s,c)===!1||(h==="click"&&this.force(s),1))},r.prefetch=function(e){var t=this;this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba")).catch(function(o){t.logger.error(o)}),"prefetch")},r.F=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},r.H=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},r.B=function(e){var t=this,o=this.I(e);if(o){var i=this.dom.getHref(o);this.prevent.checkHref(i)||this.cache.has(i)||this.cache.set(i,this.request(i,this.timeout,this.onRequestError.bind(this,o)).catch(function(s){t.logger.error(s)}),"enter")}},r.U=function(e){var t=this.I(e);if(t)return this.transitions.isRunning&&this.preventRunning?(e.preventDefault(),void e.stopPropagation()):void this.go(this.dom.getHref(t),t,e)},r.D=function(e){this.go(this.url.getHref(),"popstate",e)},r.I=function(e){for(var t=e.target;t&&!this.dom.getHref(t);)t=t.parentNode;if(t&&!this.prevent.checkLink(t,e,this.dom.getHref(t)))return t},r.q=function(){var e=this.url.getHref(),t={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:L({href:e},this.url.parse(e))};this.C={current:t,next:L({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},K(n,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),n}());function Ke(n){document.readyState==="complete"||document.readyState==="interactive"?setTimeout(n,1):document.addEventListener("DOMContentLoaded",n)}function Xe(n,r,e){const t=o=>{e(o,()=>n.removeEventListener(r,t))};n.addEventListener(r,t)}const Ye=100,Ve=500;let j=[],D=[],Z=0,z=null,ee=null;function Ge(){N.init({requestError:(n,r,e,t)=>(r==="click"&&t.status&&t.status===404&&N.go("/404"),!1),transitions:[{name:"page",leave(){const n=this.async();window.scrollTo({top:0,left:0,behavior:"smooth"}),oe("page-leave",n)},after(){const n=this.async();oe("page-enter",n)}}]}),N.hooks.leave(Qe),N.hooks.after(te),te()}function te(){Je(),ge(),clearTimeout(ee),ee=setTimeout(()=>{ne(),clearInterval(z),z=setInterval(ne,Ye),window.removeEventListener("resize",re),window.addEventListener("resize",re)},Ve)}function Qe(){clearInterval(z)}function Je(){j=Array.from(document.getElementsByClassName("animate-in"));for(let n=0;n<j.length;n++){const r=j[n];r.style.setProperty("--anim-state","paused"),r.style.setProperty("--temp-anim-name","unset"),r.style.removeProperty("--temp-anim-name")}}function re(){const n=window.innerWidth;n!==Z&&ge(),Z=n}function ge(){D=[];for(let n=0;n<j.length;n++){const r=j[n];r&&D.push(r.getBoundingClientRect().y+window.scrollY)}}function ne(){for(let n=j.length-1;n>=0;n--){const r=j[n],e=D[n];if(!r)continue;const t=window.innerHeight;e-window.scrollY<Math.max(.85*t,t-200)&&(r.style.setProperty("--anim-state","running"),r.style.setProperty("--anim-delay","0ms"),j.splice(n,1),D.splice(n,1))}}function oe(n,r){const e=document.getElementById("_view");e.classList.add(n),Xe(e,"animationend",(t,o)=>{t.animationName===n&&(e.classList.remove(n),r(),o())})}Ke(Ge);
